@startuml dotfiles design

package package_installer {

    struct Package {
        + name: str
        + manager: Manager
        + version: str
    }
    enum Manager {
        manager: str
    }

    abstract PackageManagerMapper {
        + map(package_name: str) -> List[Package]
    }
    class AptPackageManagerMapper
    class SnapPackageManagerMapper

    class PackageHandler {
        + check_if_package_exists(package_name: str, version: Optional[str]=None, manager: Optional[Manager]=None) -> bool
        + install_package(package_name: str, version: Optional[str]=None, manager: Optional[Manager]=None) -> bool
    }
    class PackageInstaller {
        - packages_to_install: List[Package]
    }
}

class Main {
    + installers: List[Installer]
}

abstract Installer {
    + install() -> bool
}

class DotfilesInstaller {
    This will be extended later
}
class GsettingsInstaller {
    This will be extended later
}
class NeovimInstaller {
    This will be extended later
}

package etc {
    struct PackagesToInstall {
        + packages: List[Package]
    }
}

Main <-- Installer
Installer --|> PackageInstaller
Installer -|> DotfilesInstaller
Installer -|> NeovimInstaller
Installer -|> GsettingsInstaller
PackageManagerMapper --|> AptPackageManagerMapper
PackageManagerMapper --|> SnapPackageManagerMapper
PackageHandler <-- PackageManagerMapper
PackageInstaller <-- PackageHandler
PackageInstaller <- PackagesToInstall

PackageHandler <- Package
PackageManagerMapper <- Package

PackageInstaller <-- Package
PackagesToInstall <- Package
@enduml